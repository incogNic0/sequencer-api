{"version":3,"sources":["contexts/PlayerContext.jsx","components/ControlPanel/components/PlayBtn.jsx","assets/images/pause.png","assets/images/play.png","components/ControlPanel/components/ResetBtn.jsx","components/ControlPanel/components/PresetsMenu.jsx","components/ControlPanel/components/TempoCtrl.jsx","components/ControlPanel/ControlPanel.jsx","components/BeatIndicators/Indicator.jsx","components/BeatIndicators/BeatIndicators.jsx","components/SamplesPanel/components/SamplePad.jsx","components/SamplesPanel/components/BeatPad.jsx","components/SamplesPanel/components/SampleRow.jsx","components/SamplesPanel/SamplesSection.jsx","assets/js/playback.js","assets/js/kits.js","assets/js/helpers.js","assets/js/KitData.js","containers/Sequencer.jsx","App.jsx","reportWebVitals.js","index.js"],"names":["PlayerContext","createContext","PlayerProvider","props","togglePlaying","setState","isPlaying","state","updateCurrentStep","step","currentStep","values","this","Provider","value","children","Component","PlayBtn","onPlayPause","useContext","imgSrc","playState","className","src","alt","onClick","ResetBtn","onResetClick","PresestsMenu","kits","kitData","onKitSelection","kitOptions","kitName","name","kit","kitOption","push","onChange","id","TempoCtrl","currentTempo","onTempoChange","ControlPanel","propsPlayBtn","propsResetBtn","propsPresetMenu","propsTempoCtrl","Indicator","isActive","BeatIndicators","context","indicatorsArray","i","SamplePad","sample","onSamplePadClick","url","crossOrigin","BeatPad","onStepPadClick","sampleName","stepNum","activeClass","playingClass","e","SampleRow","propsSamplePad","pattern","map","stepState","key","SamplesSection","timerID","kitState","samples","allKits","path","defaultTempo","nextStepTime","stepsQueue","audioContext","AudioContext","window","webkitAudioContext","handlePlayStop","resume","clearTimeout","currentTime","scheduler","call","getFile","filepath","a","fetch","res","arrayBuffer","decodeAudioData","audioBuffer","playback","audio","startTime","playSound","createBufferSource","buffer","connect","destination","start","incrementStep","secondsPerBeat","scheduleSamples","length","shift","setTimeout","bind","getKitAudio","updateKit","updateSamples","updateSample","updateSamplePattern","document","querySelector","play","KitData","Array","from","toLowerCase","Sequencer","getSelectedKit","filter","setupKit","newKit","loadKitAudio","updatedKit","target","resetKit","resetSamples","resetSamplePattern","tempo","defaultKit","propsCtrlPanel","propsSampleSection","defaultProps","contextType","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"4eAEaA,EAAgBC,0BAEhBC,EAAb,kDACI,WAAYC,GAAQ,IAAD,8BACf,cAAMA,IAOVC,cAAgB,WACZ,EAAKC,SAAS,CAACC,WAAY,EAAKC,MAAMD,aATvB,EAYnBE,kBAAoB,SAAAC,GAChB,EAAKJ,SAAS,CAAEK,YAAaD,KAX7B,EAAKF,MAAQ,CACTD,WAAW,EACXI,YAAa,GAJF,EADvB,0CAiBI,WACI,IAAMC,EAAM,2BACLC,KAAKL,OADA,IAERH,cAAeQ,KAAKR,cACpBI,kBAAmBI,KAAKJ,oBAE5B,OACI,cAACR,EAAca,SAAf,CAAwBC,MAAOH,EAA/B,SACKC,KAAKT,MAAMY,eAzB5B,GAAoCC,a,MCerBC,MAbf,YAAmC,IAAhBC,EAAe,EAAfA,YAETZ,EADUa,qBAAWnB,GACDM,UAEtBc,EAASd,ECVF,qZCAA,i/BFWPe,EAAYf,EAAY,UAAY,SACxC,OACI,qBAAKgB,UAAS,6BAAwBD,GAAtC,SACI,qBAAKE,IAAKH,EAAQI,IAAI,aAAaC,QAASP,O,MGFzCQ,MARf,YAAmC,IAAhBC,EAAe,EAAfA,aACf,OACI,qBAAKL,UAAU,gBAAgBG,QAASE,EAAxC,SACI,yC,aCYGC,MAhBf,YAAwD,IAAD,EAAhCC,EAAgC,EAAhCA,KAAMC,EAA0B,EAA1BA,QAASC,EAAiB,EAAjBA,eAC5BC,EAAa,GACbC,EAAUH,EAAQI,KAF2B,cAGjCL,GAHiC,IAGnD,2BAAwB,CAAC,IAAdM,EAAa,QACdC,EAAa,yBAAQtB,MAAOqB,EAAf,UAAiCA,EAAjC,MAA0BA,GAC7CH,EAAWK,KAAKD,IAL+B,8BAOnD,OACI,qBAAKd,UAAU,mBAAf,SACI,wBAAQR,MAAOmB,EAASK,SAAUP,EAAgBQ,GAAG,OAAOjB,UAAU,MAAtE,SACKU,O,MCOFQ,MAhBf,YAAmD,IAA/BC,EAA8B,EAA9BA,aAAcC,EAAgB,EAAhBA,cAG9B,OACI,sBAAKpB,UAAU,QAAf,UACI,wBAAQA,UAAU,YAAYG,QAJf,kBAAMiB,EAAcD,EAAe,IAIlD,eAGA,mBAAGnB,UAAU,sBAAb,SAAoCmB,IACpC,wBAAQnB,UAAU,YAAYG,QAPf,kBAAMiB,EAAcD,EAAe,IAOlD,mBC+BGE,MApCf,SAAuBxC,GACnB,IACI0B,EAOA1B,EAPA0B,KACAC,EAMA3B,EANA2B,QACAW,EAKAtC,EALAsC,aACAvB,EAIAf,EAJAe,YACAa,EAGA5B,EAHA4B,eAKEa,EAAe,CAAE1B,eAEjB2B,EAAgB,CAAElB,aAJpBxB,EAFAwB,cAQEmB,EAAkB,CACpBhB,UACAD,OACAE,kBAGEgB,EAAiB,CACnBN,eACAC,cAdAvC,EADAuC,eAkBJ,OACI,sBAAKpB,UAAU,gBAAf,UACI,cAAE,EAAF,eAAcsB,IACd,cAAE,EAAF,eAAeC,IACf,cAAE,EAAF,eAAmBC,IACnB,cAAE,EAAF,eAAgBC,Q,YC3BbC,MATf,YAAgC,IAAZC,EAAW,EAAXA,SACZ,OACI,qBACI3B,UAAS,yBAAoB2B,EAAW,SAAU,OCuBnDC,MAvBf,WAII,IAHA,IAAMC,EAAUhC,qBAAWnB,GACrBoD,EAAkB,GAEfC,EAAE,EAAGA,EAAE,GAAIA,IAChBD,EAAgBf,KACZ,cAAC,EAAD,CACIY,SAAUE,EAAQ7C,WAAa6C,EAAQzC,cAAgB2C,GAClDA,IAKjB,OACI,sBAAK/B,UAAU,kBAAf,UACI,qBAAKA,UAAU,WACf,qBAAKA,UAAU,aAAf,SACK8B,Q,kBCVFE,MATf,YAAkD,IAA7BC,EAA4B,EAA5BA,OAAQC,EAAoB,EAApBA,iBACzB,OACI,sBAAKlC,UAAU,iBAAiBG,QAAS+B,EAAzC,UACI,uBAAOjC,IAAKgC,EAAOE,IAAKlB,GAAIgB,EAAOrB,KAAMwB,YAAY,cACpDH,EAAOrB,S,MCoBLyB,MAvBf,YAAmE,IAAjDC,EAAgD,EAAhDA,eAAgBC,EAAgC,EAAhCA,WAAYC,EAAoB,EAApBA,QAASb,EAAW,EAAXA,SAC7CE,EAAUhC,qBAAWnB,GAKrB+D,EAAcd,EAAW,SAAW,GACtCe,EAAe,GAMnB,OAJGb,EAAQ7C,WAAawD,IAAYX,EAAQzC,cACxCsD,EAAe,WAIf,qBACI1C,UAAS,uBAAkByC,EAAlB,YAAiCC,GAC1CvC,QAAS,SAACwC,GAZdL,EAAeC,EAAYC,OCkBpBI,MAtBf,YAAiE,IAA5CX,EAA2C,EAA3CA,OAAQC,EAAmC,EAAnCA,iBAAkBI,EAAiB,EAAjBA,eACrCO,EAAiB,CACnBZ,SACAC,oBAEJ,OACI,sBAAKlC,UAAU,aAAf,UACI,cAAE,EAAF,eAAgB6C,IACfZ,EAAOa,QAAQC,KAAK,SAACC,EAAWR,GAC7B,IAAM3D,EAAQ,CACV2D,UACAF,iBACAX,SAAUqB,EACVT,WAAYN,EAAOrB,KACnBqC,IAAKT,GAET,OAAO,cAAE,EAAF,eAAc3D,WCCtBqE,ICnBX9D,EACA+D,EACAC,EDiBWF,EAjBf,YAAsE,IAA7C1C,EAA4C,EAA5CA,QAAS8B,EAAmC,EAAnCA,eAAgBJ,EAAmB,EAAnBA,iBAC9C,OAAI1B,EAEA,qBAAKR,UAAU,kBAAf,SACKQ,EAAQ6C,QAAQN,KAAK,SAAAd,GAClB,IAAMpD,EAAQ,CACVoD,SACAC,mBACAI,iBACAW,IAAKhB,EAAOrB,MAEhB,OAAO,cAAE,EAAF,eAAgB/B,SAVf,8CEsFTyE,EA5FC,CACf,CACC1C,KAAM,OACN2C,KAAM,oFACNF,QAAS,CACR,SACA,SACA,UACA,SACA,SACA,QACA,QACA,OACA,QACA,YACA,UAEDG,aAAc,KAEf,CACC5C,KAAM,SACN2C,KAAM,0FACNF,QAAS,CACR,SACA,SACA,UACA,SACA,SACA,SACA,SACA,SACA,SACA,WACA,WAEDG,aAAc,IAEf,CACC5C,KAAM,QACN2C,KAAM,sFACNF,QAAS,CACR,SACA,UACA,SACA,SACA,SACA,SACA,SACA,SACA,WACA,SACA,SAEDG,aAAc,KAEf,CACC5C,KAAM,SACN2C,KAAM,wFACNF,QAAS,CACR,SACA,SACA,UACA,UACA,SACA,SACA,SACA,SACA,SACA,QAEDG,aAAc,KAEf,CACC5C,KAAM,MACN2C,KAAM,kFACNF,QAAS,CACR,SACA,UACA,UACA,SACA,SACA,SACA,SACA,SACA,SACA,OACA,QAEDG,aAAc,MDtFZC,EAAe,EAIfC,EAAa,GACXC,EAAe,IAAIC,cAAmB,IAAIC,OAAOC,mBAGhD,SAASC,EAAelC,GAC3BuB,EAAW9D,KAAKL,MAAMuB,QACI,cAAvBmD,EAAa1E,OAAuB0E,EAAaK,SAChDnC,EAAQ7C,UAKRiF,aAAad,IAJb/D,EAAcyC,EAAQzC,YACtBqE,EAAeE,EAAaO,YAC5BC,EAAUC,KAAK9E,OAOhB,SAAe+E,EAAtB,kC,4CAAO,WAAuBC,GAAvB,mBAAAC,EAAA,sEACeC,MAAMF,GADrB,cACGG,EADH,gBAEuBA,EAAIC,cAF3B,cAEGA,EAFH,gBAGuBf,EAAagB,gBAAgBD,GAHpD,cAGGE,EAHH,yBAIIA,GAJJ,6C,sBAOP,SAASC,EAASC,EAAOC,GACrB,IAAMC,EAAYrB,EAAasB,qBAC/BD,EAAUE,OAASJ,EACnBE,EAAUG,QAAQxB,EAAayB,aAC/BJ,EAAUK,MAAMN,GAIpB,SAASO,EAAcnG,GACnB,IAAMoG,EAAiB,GAAOjG,KAAKL,MAAMkC,aAAe,EACxDsC,GAAgB8B,EAEI,OADpBnG,IACwBA,EAAc,GAI1C,SAAS+E,IACL,IAAMD,EAAcP,EAAaO,YAQjC,GANIT,EAAeS,EAhDG,MAkE1B,SAAyB/E,EAAM4F,GAC3BrB,EAAW3C,KAAK,CAAE5B,OAAM4F,cADc,oBAEjB3B,EAASC,SAFQ,IAEtC,2BAAuC,CAAC,IAA7BpB,EAA4B,QAClBA,EAAOa,QAAQ3D,IAE5B0F,EAAS5C,EAAO6C,MAAOC,IALO,+BAjBlCS,CAAgBpG,EAAaqE,GAC7B6B,EAAclB,KAAK9E,OAInBoE,EAAW+B,QAAU/B,EAAW,GAAGqB,UAAYb,EAAa,CAC5D,IAAI/E,EAAOuE,EAAW,GAAGvE,KACzBuE,EAAWgC,QACXpG,KAAKJ,kBAAkBC,GAI3BgE,EAAUwC,WAAWxB,EAAUyB,KAAKtG,MA9DtB,IEEX,IAaMuG,EAAW,uCAAG,WAAMhF,GAAN,yBAAA0D,EAAA,sDACjBuB,EADiB,eACDjF,GAChBkF,EAAgB,GAFC,cAIFD,EAAUzC,SAJR,gEAIZpB,EAJY,QAKb+D,EALa,eAKM/D,GALN,UAMQoC,EAAQpC,EAAOE,KANvB,QAMnB6D,EAAalB,MANM,OAOnBiB,EAAchF,KAAKiF,GAPA,sJASvBF,EAAUzC,QAAU0C,EATG,kBAWhBD,GAXgB,gEAAH,sDAcjB,SAASG,EAAoB1D,EAAYC,GAAU,IAAD,OAC/CsD,EAAS,eAAOxG,KAAKL,MAAMuB,SAC3BuF,EAAgBD,EAAUzC,QAAQN,KAAK,SAAAd,GACzC,GAAGA,EAAOrB,OAAS2B,IACfN,EAAOa,QAAQN,IAAYP,EAAOa,QAAQN,GAEvCP,EAAOa,QAAQN,KAAa,EAAKX,QAAQ7C,WAAW,CACnD,IAAM8F,EAAQoB,SAASC,cAAT,WAA2B5D,IACzCuC,EAAMZ,YAAc,EACpBY,EAAMsB,OAGd,OAAOnE,KAGX,OADA6D,EAAUzC,QAAU0C,EACbD,E,IC5CUO,EACjB,cAAkD,IAArCzF,EAAoC,EAApCA,KAAM2C,EAA8B,EAA9BA,KAAMC,EAAwB,EAAxBA,aAAcH,EAAU,EAAVA,QAAU,oBAC7C/D,KAAKsB,KAAOA,EACZtB,KAAKkE,aAAeA,EACpBlE,KAAK+D,QAAUA,EAAQN,KAAK,SAAAR,GAOxB,MANe,CACX3B,KAAM2B,EACNO,QAASwD,MAAMC,KAAK,CAAEd,OAAQ,KAAM,kBAAM,KAC1CX,MAAO,KACP3C,IAAKoB,EAAOhB,EAAWiE,cAAgB,YCEjDC,E,kDAMF,WAAY5H,GAAQ,IAAD,8BACf,gBAcJ6H,eAAiB,SAAA/F,GACb,OAAO2C,EAAQqD,QAAQ,SAAA9F,GAAG,OAAIA,EAAID,OAASD,KAAS,IAhBrC,EAmBnBiG,SAAW,SAAA/F,GACP,IAAMgG,EAAS,IAAIR,EAAQxF,GAC3B,EAAK9B,SAAS,CAAEyB,QAASqG,EAAQ1F,aAAc0F,EAAOrD,eACtD,EAAKsD,aAAaD,IAtBH,EAyBnBC,aAzBmB,uCAyBJ,WAAMjG,GAAN,eAAA0D,EAAA,sEACcsB,EAAYhF,GAD1B,OACLkG,EADK,OAEX,EAAKhI,SAAS,CAACyB,QAASuG,IAFb,2CAzBI,wDA8BnBnH,YAAc,WACVmE,EAAeK,KAAf,eAA0B,EAAKvC,SAC/B,EAAKA,QAAQ/C,gBACb,EAAK+C,QAAQ3C,kBAAkB,IAjChB,EAoCnBA,kBAAoB,SAAAC,GAChB,EAAK0C,QAAQ3C,kBAAkBC,IArChB,EAwCnBsB,eAAiB,SAACkC,GACV,EAAKd,QAAQ7C,WACb,EAAKY,cAET,IAAMe,EAAUgC,EAAEqE,OAAOxH,MACnBqB,EAAM,EAAK6F,eAAe/F,GAChC,EAAKiG,SAAS/F,IA9CC,EAiDnBR,aAAe,WACR,EAAKwB,QAAQ7C,WACZ,EAAKY,cAET,IAAMqH,EFpEoB,SAACzG,GAC/B,IAAMyG,EAAQ,eAAOzG,GAEf0G,EAAe1G,EAAQ6C,QAAQN,KAAK,SAAAd,GAEtC,OADAA,EAAOa,QAAUwD,MAAMC,KAAK,CAACd,OAAQ,KAAK,kBAAM,KACzCxD,KAKX,OAFAgF,EAAS5D,QAAU6D,EAEZD,EE0DcE,CAAmB,EAAKlI,MAAMuB,SAC/C,EAAKzB,SAAS,CAAEyB,QAASyG,KAtDV,EAyDnB7F,cAAgB,SAACgG,GACb,EAAKrI,SAAS,CAACoC,aAAciG,KA1Dd,EA6DnB9E,eAAiB,SAACC,EAAYC,GAC1B,IAAMuE,EAAad,EAAoB7B,KAApB,eAA+B7B,EAAYC,GAC9D,EAAKzD,SAAS,CAAEyB,QAASuG,KA/DV,EAkEnB7E,iBAAmB,SAACS,GAChB,IAAMmC,EAAQnC,EAAEqE,OAAOvH,SAAS,GAChCqF,EAAMZ,YAAc,EACpBY,EAAMsB,QAnEN,EAAKnH,MAAQ,CACTsB,KAAM,GACNY,aAAc,EACdX,QAAS,MALE,E,4FASnB,4BAAA+D,EAAA,sDACU1D,EAAMvB,KAAKoH,eAAepH,KAAKT,MAAMwI,YAC3C/H,KAAKP,SAAS,CAACwB,KAAM+C,EAAQP,KAAI,SAAAlC,GAAG,OAAIA,EAAID,UAC5CtB,KAAKsH,SAAS/F,GAHlB,gD,0EAgEA,WACI,IAAMyG,EAAiB,CACnB/G,KAAMjB,KAAKL,MAAMsB,KACjBC,QAASlB,KAAKL,MAAMuB,SAAW,GAC/BW,aAAc7B,KAAKL,MAAMkC,aACzBvB,YAAaN,KAAKM,YAClBwB,cAAe9B,KAAK8B,cACpBf,aAAcf,KAAKe,aACnBI,eAAgBnB,KAAKmB,gBAGnB8G,EAAqB,CACvB/G,QAASlB,KAAKL,MAAMuB,QACpB0B,iBAAkB5C,KAAK4C,iBACvBI,eAAgBhD,KAAKgD,gBAGzB,OACI,sBAAKtC,UAAU,YAAf,UACI,cAAE,EAAF,eAAmBsH,IACnB,cAAE,EAAF,IACA,cAAE,EAAF,eAAqBC,W,GApGb7H,aAAlB+G,EACKe,aAAe,CAClBH,WAAY,SAFdZ,EAIKgB,YAAc/I,EAuGV+H,QCxGAiB,MAVf,WACE,OACE,qBAAK1H,UAAU,MAAf,SACI,cAAC,EAAD,UACI,cAAE,EAAF,SCIG2H,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCDdQ,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFpC,SAASqC,eAAe,SAM1BZ,M","file":"static/js/main.bd986e44.chunk.js","sourcesContent":["import React, { Component, createContext } from \"react\";\n\nexport const PlayerContext = createContext();\n\nexport class PlayerProvider extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            isPlaying: false,\n            currentStep: 0\n        }\n    }\n\n    togglePlaying = () => {\n        this.setState({isPlaying: !this.state.isPlaying});\n    }\n\n    updateCurrentStep = step => {\n        this.setState({ currentStep: step});\n    }\n\n    render() {\n        const values = {\n            ...this.state,\n            togglePlaying: this.togglePlaying,\n            updateCurrentStep: this.updateCurrentStep\n        }\n        return (\n            <PlayerContext.Provider value={values}>\n                {this.props.children}\n            </PlayerContext.Provider>\n        )\n\n    }\n}\n","import React, { useContext } from \"react\";\nimport { PlayerContext } from \"../../../contexts/PlayerContext\";\nimport '../../../assets/styles/PlayBtn.css';\nimport playIcon from '../../../assets/images/play.png';\nimport pauseIcon from '../../../assets/images/pause.png';\n\nfunction PlayBtn({ onPlayPause }) {\n    const context = useContext(PlayerContext);\n    const isPlaying = context.isPlaying;\n\n    let imgSrc = isPlaying ? pauseIcon : playIcon\n    let playState = isPlaying ? 'playing' : 'paused'\n    return (\n        <div className={`play-pause-btn btn ${playState}`}>\n            <img src={imgSrc} alt=\"Play/Pause\" onClick={onPlayPause} />\n        </div>\n    )\n}\n\nexport default PlayBtn","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAABmJLR0QA/wD/AP+gvaeTAAAA0UlEQVR4nO3RgQmAQAwEwdf+e9YaAvouMlPAJbBrAQAAAAAA/Nux4cb18N7056/vj5xvjjMnSIwgMYLECBIjSIwgMYLECBIjSIwgMYLECBIjSIwgMYLECBIjSIwgMYLECBIjSIwgMYLECBIjSIwgMYLECBIjSIwgMYLECBIjSIwgMYLECBIjSIwgMYLECBIjSIwgMYLECBIjSIwgMYLECBIjSIwgMYLECBIjSIwgMYLECBIjSIwgMYLECBIjSIwgMYLECBIjSIwgAAAAAAAAbHUDEFQCiJJ3gF0AAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAABmJLR0QA/wD/AP+gvaeTAAACl0lEQVR4nO2aP2oVURyFPxREQbC01V5LBd2Augm3YGlraesW3EJqswGzgKS2FSyUFAqORXILB+ZlZt7v3nP/nA9O/5tzQpJv3gNjjDHGGGOMMcb0zXP1AeZ//gKfgYfqQ8wV03V+AR+AO9pzzDTLBfBGetHgzAdJOQEeC+8alqVBJuAS+Ajcl103IIcGSfkGvFUdOBprBkk5BZ5qzhyHLYNMwB/gE/BAcewIbB0k5TvwDrhd/uS+2TtIyhnwsvjVHXPsIBO2/VAiBkn5iW3/aCIHSbkAXpd8iJ7IMUiKbX8HOQeZsO1vJvcgKbb9lZQaJOUUeFLkyRql9CATtv2DKAZJSbZ/K/tTNoRykJQz4EXuB20F9Rgptv1r1EPMM7ztqwdYyrC2ry7+pgxn++rC12Qo21eXvSVD2L665D3p2vbV5e5Nt7avLvbYdGf76kKj0o3tq4uMTBe2ry4xR34A72nU9tXl5cw5Ddq+urQSacr21WWVSjO2ry6qdKq3fXVBqlRr++pilKnS9tWl1JDdtt/N6wGzjPqn07+yZqhLUeUL/qNeRfxvbyW55OrbLPdiasuHuqgSOQEeRRWWG3VZOeOXi5XEr98riT+gqij+CLeS+EsOleQ3FVp2BOpi96Ray45AXe6WVG/ZEahLXpNmLDsCddk3pSnLjkBd+FLOgVcZn7ta1MXP07RlR6AeIKULy45APcQEfKUTy45AOUR3lh2BYohuLTuC0mN0bdkRlBpiCMuOIPcQQ1l2BDnHGM6yI8gxxLCWHUHkEMNbdgQRQ9iyAzl2DFt2MHuHsGVnYusQtuzMbBnDll2ANUPYsgtyaIhk2Xdl1w3I0hi2bBG27MqwZVeGLbsynqkPMMYYY4wxxhhjjInhHwOCEx5HZzpNAAAAAElFTkSuQmCC\"","import React from \"react\";\nimport '../../../assets/styles/ResetBtn.css'\n\n\nfunction ResetBtn({onResetClick}) {\n    return (\n        <div className='reset-btn btn' onClick={onResetClick}>\n            <p>reset</p>\n        </div>\n    )\n}\n\nexport default ResetBtn;","import React from 'react';\nimport '../../../assets/styles/PresetsMenu.css'\n\nfunction PresestsMenu({kits, kitData, onKitSelection}) {\n    const kitOptions = [];\n    const kitName = kitData.name\n    for (const kit of kits) {\n        const kitOption  = <option value={kit}  key={kit} >{kit} </option>\n        kitOptions.push(kitOption);\n    }\n    return (\n        <div className='presets-menu btn'>\n            <select value={kitName} onChange={onKitSelection} id=\"kits\" className='btn'>\n                {kitOptions}\n            </select>\n        </div>\n    )\n}\n\nexport default PresestsMenu;","import React from 'react';\nimport '../../../assets/styles/TempoCtrl.css'\n\n\nfunction TempoCtrl({currentTempo, onTempoChange}) {\n    const incrementTempo = () => onTempoChange(currentTempo + 1);\n    const decrementTempo = () => onTempoChange(currentTempo - 1)\n    return (\n        <div className='tempo'>\n            <button className='tempo btn' onClick={incrementTempo}>\n                +\n            </button>\n            <p className='current-tempo tempo'>{currentTempo}</p>\n            <button className='tempo btn' onClick={decrementTempo}>\n                -\n            </button>\n        </div>\n    )\n}\n\nexport default TempoCtrl;","import React from 'react';\nimport '../../assets/styles/ControlPanel.css'\nimport PlayBtn from './components/PlayBtn';\nimport ResetBtn from './components/ResetBtn';\nimport PresestsMenu from './components/PresetsMenu';\nimport TempoCtrl from './components/TempoCtrl';\n\n\nfunction ControlPanel( props ) {\n    const {\n        kits,\n        kitData,\n        currentTempo,\n        onPlayPause,\n        onKitSelection,\n        onResetClick,\n        onTempoChange\n    } = props;\n\n    const propsPlayBtn = { onPlayPause }\n\n    const propsResetBtn = { onResetClick }\n\n    const propsPresetMenu = {\n        kitData,\n        kits,\n        onKitSelection\n    }\n\n    const propsTempoCtrl = {\n        currentTempo,\n        onTempoChange\n    }\n\n    return (\n        <div className='control-panel'>\n            < PlayBtn {...propsPlayBtn} />\n            < ResetBtn {...propsResetBtn} />\n            < PresestsMenu {...propsPresetMenu} />\n            < TempoCtrl {...propsTempoCtrl} />\n        </div>\n    )\n}\n\nexport default ControlPanel;\n","import React from \"react\";\nimport '../../assets/styles/Indicator.css'\n\nfunction Indicator({isActive}) {\n        return (\n            <div \n                className={`beat-indicator ${isActive ? 'active': ''}`}\n            >\n            </div>\n        )\n}\n\nexport default Indicator","import React, { useContext } from \"react\";\nimport '../../assets/styles/BeatIndicators.css'\nimport Indicator from \"./Indicator\";\nimport { PlayerContext } from '../../contexts/PlayerContext';\n\n\nfunction BeatIndicators(){\n    const context = useContext(PlayerContext);\n    const indicatorsArray = [];\n\n    for (let i=0; i<16; i++) {\n        indicatorsArray.push(\n            <Indicator \n                isActive={context.isPlaying && context.currentStep === i} \n                key={i}\n            />\n        )\n    };\n\n    return(\n        <div className='indicator-panel'>\n            <div className='buffer'></div>\n            <div className='indicators'>\n                {indicatorsArray}\n            </div>\n        </div>\n    )\n}\n\nexport default BeatIndicators","import React from \"react\";\nimport '../../../assets/styles/SamplePad.css';\n\n\nfunction SamplePad({ sample, onSamplePadClick }) {\n    return (\n        <div className='sample-pad btn' onClick={onSamplePadClick}>\n            <audio src={sample.url} id={sample.name} crossOrigin=\"anonymous\"></audio>\n            {sample.name}\n        </div>\n    )\n}\n\nexport default SamplePad;","import React, { useContext } from \"react\";\nimport { PlayerContext } from \"../../../contexts/PlayerContext\";\nimport '../../../assets/styles/BeatPad.css'\n\n\nfunction BeatPad({onStepPadClick, sampleName, stepNum ,isActive}) {\n    const context = useContext(PlayerContext);\n\n    const handleClickEvent = () => {\n        onStepPadClick(sampleName, stepNum)\n    }\n    const activeClass = isActive ? 'active' : '';\n    let playingClass = '';\n\n    if(context.isPlaying && stepNum === context.currentStep) {\n        playingClass = 'playing';\n    }\n\n    return (\n        <div \n            className={`beat-pad btn ${activeClass} ${playingClass}`}\n            onClick={(e) => {handleClickEvent()}}\n        >\n        </div>\n    )\n}\n\n\nexport default BeatPad;","import React from \"react\";\nimport '../../../assets/styles/SampleRow.css'\nimport SamplePad from \"./SamplePad\";\nimport BeatPad from \"./BeatPad\";\n\nfunction SampleRow({ sample, onSamplePadClick, onStepPadClick}) {\n    const propsSamplePad = {\n        sample,\n        onSamplePadClick\n    }\n    return (\n        <div className='sample-row'>\n            < SamplePad {...propsSamplePad} />\n            {sample.pattern.map( (stepState, stepNum) => {\n                const props = {\n                    stepNum,\n                    onStepPadClick,\n                    isActive: stepState,\n                    sampleName: sample.name,\n                    key: stepNum\n                };\n                return < BeatPad {...props} />;\n            })}\n        </div>\n    )\n}\n\nexport default SampleRow","import React from \"react\";\nimport '../../assets/styles/SamplesSection.css'\nimport SampleRow from \"./components/SampleRow\";\n\n\nfunction SamplesSection({kitData, onStepPadClick, onSamplePadClick}) {\n    if(!kitData) return <div>Loading...</div>;\n    return (\n        <div className='samples-section'>\n            {kitData.samples.map( sample => {\n                const props = {\n                    sample,\n                    onSamplePadClick,\n                    onStepPadClick,\n                    key: sample.name,\n                }\n                return < SampleRow {...props} />\n            })}\n        </div>\n    )\n}\n\nexport default SamplesSection","const lookahead = 25.0; // milliseconds\nconst scheduleAheadTime = 0.1; // seconds\nlet nextStepTime = 0.0;\nlet currentStep;\nlet timerID;\nlet kitState;\nlet stepsQueue = []\nconst audioContext = new AudioContext() ||  new window.webkitAudioContext();\n\n\nexport function handlePlayStop(context) {\n    kitState = this.state.kitData;\n    if(audioContext.state === 'suspended') audioContext.resume();\n    if(!context.isPlaying) {\n        currentStep = context.currentStep;\n        nextStepTime = audioContext.currentTime;\n        scheduler.call(this);\n    } else {\n        clearTimeout(timerID);\n    }\n}\n\n\nexport async function getFile(filepath) {\n    const res = await fetch(filepath);\n    const arrayBuffer = await res.arrayBuffer();\n    const audioBuffer = await audioContext.decodeAudioData(arrayBuffer);\n    return audioBuffer;\n}\n\nfunction playback(audio, startTime) {\n    const playSound = audioContext.createBufferSource();\n    playSound.buffer = audio;\n    playSound.connect(audioContext.destination);\n    playSound.start(startTime); // will play when audioContext.currentTime === startTime\n}\n\n\nfunction incrementStep(step) {\n    const secondsPerBeat = 60.0 / this.state.currentTempo / 4; // sixteenth notes\n    nextStepTime += secondsPerBeat; // when the next step should play\n    currentStep++;\n    if (currentStep === 16) currentStep = 0; // reset after 4 quarter notes\n}\n\n// let lastStep = 15;\nfunction scheduler() {\n    const currentTime = audioContext.currentTime\n    // Schedule Audio Playback\n    if (nextStepTime < currentTime + scheduleAheadTime ) {\n        scheduleSamples(currentStep, nextStepTime); // controls audio playback\n        incrementStep.call(this);\n    } \n\n    // Increment curretnStep at specified time\n    if (stepsQueue.length && stepsQueue[0].startTime < currentTime) {\n        let step = stepsQueue[0].step;\n        stepsQueue.shift();   // remove note from queue\n        this.updateCurrentStep(step);\n    }\n\n    // continues to call scheduler every 25ms (lookahead) \n    timerID = setTimeout(scheduler.bind(this), lookahead);\n}\n\n\n// schedule playback for all active samples in the next step sequence\nfunction scheduleSamples(step, startTime) {\n    stepsQueue.push({ step, startTime });\n    for (const sample of kitState.samples) {\n        const isActive = sample.pattern[step];\n        if(isActive) {\n            playback(sample.audio, startTime);\n        }\n    }\n}\n","const allKits = [\n\t{\n\t\tname: \"rock\",\n\t\tpath: \"https://sequencer-test-samples.s3.us-east-2.amazonaws.com/originalKits/rock/rock/\",\n\t\tsamples: [\n\t\t\t\"KICK-1\",\n\t\t\t\"KICK-2\",\n\t\t\t\"SNARE-1\",\n\t\t\t\"HHAT-1\",\n\t\t\t\"HHAT-2\",\n\t\t\t\"TOM-1\",\n\t\t\t\"TOM-2\",\n\t\t\t\"RIDE\",\n\t\t\t\"CRASH\",\n\t\t\t\"TAMBORINE\",\n\t\t\t\"SHAKER\",\n\t\t],\n\t\tdefaultTempo: 100,\n\t},\n\t{\n\t\tname: \"hipHop\",\n\t\tpath: \"https://sequencer-test-samples.s3.us-east-2.amazonaws.com/originalKits/hip-hop/hip-hop/\",\n\t\tsamples: [\n\t\t\t\"KICK-1\",\n\t\t\t\"KICK-2\",\n\t\t\t\"SNARE-1\",\n\t\t\t\"HHAT-1\",\n\t\t\t\"HHAT-2\",\n\t\t\t\"CLAP-1\",\n\t\t\t\"PERC-1\",\n\t\t\t\"PERC-2\",\n\t\t\t\"PERC-3\",\n\t\t\t\"CYMBAL-1\",\n\t\t\t\"VOCAL-1\",\n\t\t],\n\t\tdefaultTempo: 90,\n\t},\n\t{\n\t\tname: \"house\",\n\t\tpath: \"https://sequencer-test-samples.s3.us-east-2.amazonaws.com/originalKits/house/house/\",\n\t\tsamples: [\n\t\t\t\"KICK-1\",\n\t\t\t\"SNARE-1\",\n\t\t\t\"CLAP-1\",\n\t\t\t\"CLAP-2\",\n\t\t\t\"HHAT-1\",\n\t\t\t\"HHAT-2\",\n\t\t\t\"PERC-1\",\n\t\t\t\"PERC-2\",\n\t\t\t\"CYMBAL-1\",\n\t\t\t\"STAB-1\",\n\t\t\t\"TOM-1\",\n\t\t],\n\t\tdefaultTempo: 125,\n\t},\n\t{\n\t\tname: \"techno\",\n\t\tpath: \"https://sequencer-test-samples.s3.us-east-2.amazonaws.com/originalKits/techno/techno/\",\n\t\tsamples: [\n\t\t\t\"KICK-1\",\n\t\t\t\"KICK-2\",\n\t\t\t\"SNARE-1\",\n\t\t\t\"SNARE-2\",\n\t\t\t\"HHAT-1\",\n\t\t\t\"PERC-1\",\n\t\t\t\"PERC-2\",\n\t\t\t\"PERC-3\",\n\t\t\t\"PERC-4\",\n\t\t\t\"FX-1\",\n\t\t],\n\t\tdefaultTempo: 130,\n\t},\n\t{\n\t\tname: \"dnb\",\n\t\tpath: \"https://sequencer-test-samples.s3.us-east-2.amazonaws.com/originalKits/dnb/dnb/\",\n\t\tsamples: [\n\t\t\t\"KICK-1\",\n\t\t\t\"SNARE-1\",\n\t\t\t\"SNARE-2\",\n\t\t\t\"HHAT-1\",\n\t\t\t\"HHAT-2\",\n\t\t\t\"PERC-1\",\n\t\t\t\"BASS-1\",\n\t\t\t\"BASS-2\",\n\t\t\t\"BASS-3\",\n\t\t\t\"FX-1\",\n\t\t\t\"FX-2\",\n\t\t],\n\t\tdefaultTempo: 170,\n\t},\n];\n\nexport default allKits;\n","import { getFile } from \"./playback\";\n\nexport const resetSamplePattern = (kitData) => {\n    const resetKit = {...kitData};\n\n    const resetSamples = kitData.samples.map( sample => {\n        sample.pattern = Array.from({length: 16}, () => false);\n        return sample;\n    });\n\n    resetKit.samples = resetSamples;\n\n    return resetKit;\n}\n\nexport const getKitAudio = async kit => {\n    const updateKit = {...kit};\n    const updateSamples = [];\n    \n    for (const sample of updateKit.samples) {\n        const updateSample = {...sample};\n        updateSample.audio = await getFile(sample.url);\n        updateSamples.push(updateSample);\n    }\n    updateKit.samples = updateSamples;\n\n    return updateKit;\n}\n\nexport function updateSamplePattern(sampleName, stepNum) {\n    const updateKit = {...this.state.kitData};\n    const updateSamples = updateKit.samples.map( sample => {\n        if(sample.name === sampleName) {\n            sample.pattern[stepNum] = !sample.pattern[stepNum];\n\n            if(sample.pattern[stepNum] && !this.context.isPlaying) {\n                const audio = document.querySelector(`#${sampleName}`);\n                audio.currentTime = 0;\n                audio.play();\n            }\n        }\n        return sample;\n    })\n    updateKit.samples = updateSamples;\n    return updateKit;\n}\n","export default class KitData {\n    constructor({name, path, defaultTempo, samples}) {\n        this.name = name;\n        this.defaultTempo = defaultTempo;\n        this.samples = samples.map( sampleName => {\n            const sample = {\n                name: sampleName,\n                pattern: Array.from({ length: 16 }, () => false),\n                audio: null,\n                url: path + sampleName.toLowerCase() + '.wav'\n            }\n            return sample\n        })\n    }\n}","import React, { Component } from 'react';\nimport '../assets/styles/Sequencer.css';\nimport ControlPanel from '../components/ControlPanel/ControlPanel'\nimport BeatIndicators from '../components/BeatIndicators/BeatIndicators';\nimport SamplesSection from '../components/SamplesPanel/SamplesSection';\nimport allKits from '../assets/js/kits';\nimport { handlePlayStop } from '../assets/js/playback';\nimport { resetSamplePattern, getKitAudio, updateSamplePattern } from '../assets/js/helpers';\nimport KitData from '../assets/js/KitData';\nimport { PlayerContext } from '../contexts/PlayerContext';\n\nclass Sequencer extends Component {\n    static defaultProps = {\n        defaultKit: 'house'\n    }\n    static contextType = PlayerContext;\n\n    constructor(props) {\n        super();\n        this.state = {\n            kits: [],\n            currentTempo: 0,\n            kitData: null\n        };\n    }\n\n    async componentDidMount(){\n        const kit = this.getSelectedKit(this.props.defaultKit)\n        this.setState({kits: allKits.map(kit => kit.name)});\n        this.setupKit(kit);\n    }\n\n    getSelectedKit = kitName => {\n        return allKits.filter( kit => kit.name === kitName)[0];\n    }\n\n    setupKit = kit => {\n        const newKit = new KitData(kit);\n        this.setState({ kitData: newKit, currentTempo: newKit.defaultTempo});\n        this.loadKitAudio(newKit);\n    }\n\n    loadKitAudio = async kit => {\n        const updatedKit = await getKitAudio(kit);\n        this.setState({kitData: updatedKit});\n    }\n\n    onPlayPause = ()=> {\n        handlePlayStop.call(this, this.context);\n        this.context.togglePlaying();\n        this.context.updateCurrentStep(0);\n    }\n\n    updateCurrentStep = step => {\n        this.context.updateCurrentStep(step);\n    }\n\n    onKitSelection = (e) => {\n        if (this.context.isPlaying) {\n            this.onPlayPause();\n        }\n        const kitName = e.target.value;\n        const kit = this.getSelectedKit(kitName);\n        this.setupKit(kit);\n    }\n\n    onResetClick = () => {\n        if(this.context.isPlaying) {\n            this.onPlayPause();\n        };\n        const resetKit = resetSamplePattern(this.state.kitData);\n        this.setState({ kitData: resetKit});\n    }\n\n    onTempoChange = (tempo)=> {\n        this.setState({currentTempo: tempo});\n    }\n\n    onStepPadClick = (sampleName, stepNum) => {\n        const updatedKit = updateSamplePattern.call(this, sampleName, stepNum);\n        this.setState({ kitData: updatedKit });\n    }\n\n    onSamplePadClick = (e) => {\n        const audio = e.target.children[0];\n        audio.currentTime = 0;\n        audio.play();\n    }\n\n\n    render() {\n        const propsCtrlPanel = {\n            kits: this.state.kits,\n            kitData: this.state.kitData || '',\n            currentTempo: this.state.currentTempo,\n            onPlayPause: this.onPlayPause,\n            onTempoChange: this.onTempoChange,\n            onResetClick: this.onResetClick,\n            onKitSelection: this.onKitSelection\n        }\n\n        const propsSampleSection = {\n            kitData: this.state.kitData,\n            onSamplePadClick: this.onSamplePadClick,\n            onStepPadClick: this.onStepPadClick,\n        }\n\n        return (\n            <div className=\"container\">\n                < ControlPanel {...propsCtrlPanel} />\n                < BeatIndicators />\n                < SamplesSection {...propsSampleSection} />\n            </div>\n        );\n    }\n\n}\n\nexport default Sequencer;\n\n","import Sequencer from './containers/Sequencer';\nimport { PlayerProvider } from './contexts/PlayerContext';\n\n\nfunction App() {\n  return (\n    <div className=\"App\">\n        <PlayerProvider>\n            < Sequencer />\n        </PlayerProvider>\n    </div>\n  );\n}\n\nexport default App;\n\n\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}